pipeline {
    agent {
        node {
            label "built-in"
            customWorkspace '/mnt/rupaaa'
        }
    }
    
    stages {
        stage ('start httpd') {
            steps {
                sh "service httpd start"
            }
        }
        stage ('create file') {
            steps {
                sh "echo 'i am good' >> index.html"
             }
        }
        stage ('copy file') {
            steps {
                sh "cp index.html /var/www/html"
                sh "chmod 777 index.html"
            }
        }
        stage ('push') {
            steps {
                sh "git branch -m main"
                sh "git add ."
                sh "git commit -m "1st commit""
                sh "git push origin main"
            }
        }
    }
}
